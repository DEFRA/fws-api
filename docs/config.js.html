<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: config.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: config.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * config to get data from environment variable, validate the same using schema and
 * provide to the application
 */
const Joi = require('@hapi/joi')

// Script to check for the presence of environment variables before deploying the application
// Any variables added to fws-config project need to be added to here too.

const schema = Joi.object({
  env: Joi.string().valid('dev', 'tst', 'pre', 'prd', 'tra'),
  lambdaRole: Joi.string(),
  region: Joi.string(),
  bucket: Joi.string(),
  vpnSecGroup: Joi.string(),
  sub1: Joi.string(),
  sub2: Joi.string(),
  apiId: Joi.string(),
  rootId: Joi.string(),
  dbConnection: Joi.string(),
  snsTopic: Joi.string(),
  httpProxy: Joi.string(),
  feTag: Joi.string()
})

const result = schema.validate({
  env: process.env.FWS_ENV_NAME,
  lambdaRole: process.env.FWS_LAMBDA_ROLE,
  region: process.env.FWS_REGION,
  bucket: process.env.FWS_BUCKET,
  vpnSecGroup: process.env.FWS_VPN_SEC_GRP,
  sub1: process.env.FWS_SUB_1,
  sub2: process.env.FWS_SUB_2,
  apiId: process.env.FWS_API_ID,
  rootId: process.env.FWS_ROOT_ID,
  dbConnection: process.env.FWS_DB_CONNECTION,
  snsTopic: process.env.FWS_SNS_TOPIC,
  httpProxy: process.env.FWS_HTTP_PROXY,
  feTag: process.env.FWS_FE_TAG
})

if (result.error) {
  throw new Error('Config validation failed: ' + JSON.stringify(result.error))
}

console.log('Config is valid')
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="global.html#Db">Db</a></li><li><a href="fwis.html">fwis</a></li><li><a href="Message.html">Message</a></li><li><a href="Services.html">Services</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AWS">AWS</a></li><li><a href="global.html#generateAllow">generateAllow</a></li><li><a href="global.html#generateDeny">generateDeny</a></li><li><a href="global.html#generatePolicy">generatePolicy</a></li><li><a href="global.html#handler">handler</a></li><li><a href="global.html#Joi">Joi</a></li><li><a href="global.html#queries">queries</a></li><li><a href="global.html#xml2js">xml2js</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Thu Feb 20 2020 15:13:02 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
