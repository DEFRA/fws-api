<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: models/fwisPlus.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: models/fwisPlus.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * model class used to generate fwis warning message
 * NOTE: addtional information such as createdByID, createdByName and createdByEmail included
 */
'use strict'

class fwis {
  constructor (rows) {
    this.warnings = rows.map(item => {
      return {
        situation: item.situation,
        attr: {
          taId: item.ta_id,
          taCode: item.ta_code,
          taName: item.ta_name,
          taDescription: item.ta_description,
          quickDial: item.quick_dial,
          version: item.version,
          taCategory: item.ta_category,
          ownerArea: item.owner_area,
          createdDate: new Date(item.created_date).toISOString(),
          createdByID: item.created_by_id,
          createdByName: item.created_by_name,
          createdByEmail: item.created_by_email,
          lastModifiedDate: new Date(item.last_modified_date).toISOString(),
          situationChanged: new Date(item.situation_changed).toISOString(),
          severityChanged: new Date(item.severity_changed).toISOString(),
          timeMessageReceived: new Date(item.message_received).toISOString(),
          severityValue: item.severity_value,
          severity: item.severity
        }
      }
    })
  }

  /**
   * function to convert the warning message to JSON
   * @returns {string}
   */
  getJson () {
    return JSON.stringify({
      warnings: this.warnings
    })
  }
}

module.exports = fwis
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="global.html#Db">Db</a></li><li><a href="fwis.html">fwis</a></li><li><a href="Message.html">Message</a></li><li><a href="Services.html">Services</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AWS">AWS</a></li><li><a href="global.html#generateAllow">generateAllow</a></li><li><a href="global.html#generateDeny">generateDeny</a></li><li><a href="global.html#generatePolicy">generatePolicy</a></li><li><a href="global.html#handler">handler</a></li><li><a href="global.html#Joi">Joi</a></li><li><a href="global.html#queries">queries</a></li><li><a href="global.html#xml2js">xml2js</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Thu Feb 20 2020 15:13:02 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
